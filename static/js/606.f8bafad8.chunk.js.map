{"version":3,"file":"static/js/606.f8bafad8.chunk.js","mappings":"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","sources":["routers/home/page.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport *as Realm from 'realm-web'\r\nimport Form from '@rjsf/core';\r\nimport validator from '@rjsf/validator-ajv8';\r\nconst app= new Realm.App({id:process.env.REACT_APP_REALM_ID})\r\nconst user = app.currentUser\r\nconst schema = {\r\n    title: 'Register',\r\n    type: 'object',\r\n    required: [ 'email', 'password'],\r\n    properties: {\r\n   \r\n      email: { type: 'string', title: 'Email', format: 'email' },\r\n      password: { type: 'string', title: 'Password', minLength: 6 ,format:'password'},\r\n    },\r\n  };\r\n  \r\nconst Login = {\r\n    title: 'Login',\r\n    type: 'object',\r\n    required: [ 'email', 'password'],\r\n    properties: {\r\n   \r\n      email: { type: 'string', title: 'Email', format: 'email' },\r\n      password: { type: 'string', title: 'Password', minLength: 6 ,format:'password'},\r\n    },\r\n  };\r\n\r\nconst Home = () => {\r\n  const [Sum,SetSum]= useState({});\r\n  const [total,setTotal]= useState()\r\n  useEffect(()=>{\r\n  fetchData()\r\n  },[])\r\n  const fetchData = async()=>{\r\n    const funtionName=\"module\"\r\n    try {\r\n      const res= await user.callFunction(funtionName)\r\n      SetSum(res[0]?.public?.input?.jsonSchema)\r\n    \r\n   \r\n    } catch (error) {\r\n      console.log(error.error)\r\n    }\r\n  }\r\n    const Register = async (form)=>{\r\n        const {email,password}= form?.formData\r\n       try {\r\n        await app.emailPasswordAuth.registerUser({ email, password });\r\n        console.log(\"Đăng ký thành công\")\r\n        window.location.reload(true)\r\n       } catch (error) {\r\n        console.log(error.error)\r\n       }    \r\n    }\r\n    const Loginn = async (form)=>{\r\n        const {email,password}= form?.formData\r\n       try {\r\n        const credentials = Realm.Credentials.emailPassword(email, password);\r\n        // Authenticate the user\r\n         await app.logIn(credentials);\r\n        console.log(\"Đăng nhập thành công:\")\r\n        window.location.reload(true)\r\n       } catch (error) {\r\n        console.log(error.error)\r\n       }\r\n    }\r\n    const logOut = async ()=>{\r\n   \r\n       try {\r\n        await user.logOut();\r\n        console.log(\"Đăng xuất thành công:\")\r\n        window.location.reload(true)\r\n       } catch (error) {\r\n        console.log(error.error)\r\n       }\r\n    }\r\n\r\nconst OnSum = async(form)=>{\r\n  const funtionName=\"SUMAB\"\r\n  const args=[form?.formData,user.id]\r\n  try {\r\n    const res= await user.callFunction(funtionName, ...args)\r\n    console.log(res)\r\n    setTotal(res[0]?.public?.output?.total)\r\n    console.log(res[0]?.public?.output?.total)\r\n  } catch (error) {\r\n    console.log(error.error)\r\n  }\r\n}\r\n    \r\n  return (\r\n    <div>\r\n        {user?(\r\n            <div>home\r\n                <button onClick={logOut}>Đăng xuất</button>\r\n                <Form\r\n            schema={Sum}\r\n            validator={validator}\r\n           \r\n            onSubmit={OnSum}\r\n        \r\n          />\r\n         <p>kết quả là:{total}</p>\r\n     \r\n         </div>\r\n        ):(\r\n            <>\r\n            <Form\r\n            schema={schema}\r\n            validator={validator}\r\n           \r\n            onSubmit={Register}\r\n        \r\n          />\r\n               <Form\r\n            schema={Login}\r\n            validator={validator}\r\n           \r\n            onSubmit={Loginn}\r\n        \r\n          /></>\r\n        )}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home"],"names":["app","Realm","id","process","REACT_APP_REALM_ID","user","currentUser","schema","title","type","required","properties","email","format","password","minLength","Login","Home","Sum","SetSum","useState","total","setTotal","useEffect","fetchData","async","_res$","_res$$public","_res$$public$input","res","callFunction","public","input","jsonSchema","error","console","log","_jsx","children","_jsxs","onClick","logOut","window","location","reload","Form","validator","onSubmit","args","form","formData","_res$2","_res$2$public","_res$2$public$output","_res$3","_res$3$public","_res$3$public$output","output","_Fragment","emailPasswordAuth","registerUser","credentials","emailPassword","logIn"],"sourceRoot":""}